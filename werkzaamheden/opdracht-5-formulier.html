<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email sturen met AJAX</title>
    <link rel="icon" href="../static/icons/favicon/favicon-16x16.png" type="image/x-icon">
    <link rel="manifest" href="../site.webmanifest">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/lib/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="../static/lib/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="../static/lib/prism/prism.css">
    <script src="https://kit.fontawesome.com/c37b867389.js" crossorigin="anonymous"></script>
    <script defer src="../static/js/swiper.js"></script>
</head>

<body>
<header id="header">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-6 col-md-2">
                <a href="../index.html" class="logo">
                    <span>Stageverslag</span>
                </a>
            </div>
            <div class="col-6 col-md-10">

                <nav class="header-nav">
                    <div class="menu">
                        <ul>
                            <li><a href="../index.html">Homepagina</a></li>
                            <li>
                                <a target="_blank" href="#">Inhoudspagina</a>
                                <div class="toggle-button"><i class="fas fa-chevron-down"></i></div>
                                <ul>
                                    <li>
                                        <a href="#">Inleiding
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                    <li>
                                        <a href="../index.html#company-description">Over go2people
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                    <li>
                                        <a href="../index.html#intern-supervisor">Stagebegeleider
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                    <li>
                                        <a href="../index.html#assignment">Werkzaamheden
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                    <li>
                                        <a href="../index.html#learn-goals">Leerdoelen
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                    <li>
                                        <a href="../index.html#reflection">Reflectie
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                    <li>
                                        <a href="../index.html#resources">Bijlage
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                </ul>

                            </li>
                            <li>
                                <a target="_blank" href="#">Leerdoelen</a>
                                <div class="toggle-button"><i class="fas fa-chevron-down"></i></div>
                                <ul>
                                    <li>
                                        <a target="_blank" href="../leerdoelen/leerdoel-1.html">Leerdoel 1
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="../leerdoelen/leerdoel-2.html">Leerdoel 2
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="../leerdoelen/leerdoel-3.html">Leerdoel 3
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="../leerdoelen/leerdoel-4.html">Leerdoel 4
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="../leerdoelen/leerdoel-5.html">Leerdoel 5
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="../leerdoelen/leerdoel-6.html">Leerdoel 6
                                            <i class="fa-solid fa-arrow-up-right-from-square fa-xs link-icons"></i></a>
                                    </li>
                                </ul>

                            </li>

                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</header>
<nav>

    <div class="container">
        <div class="row">

            <div class="table-of-contents">
                <h2 class="large">Inhoudsopgave</h2>
                <button class="table-of-contents-button"><span>Inhoudsopgave</span> <i class="fa-solid fa-list-ul fa-xl"
                        style="color: #ffffff;"></i></button>
                <ul class="scrolling-toc ">
                    <li class="custom-bullet-point">
                        <a href="../index.html" class="inline-link">Voorpagina<i
                                class="fa-solid fa-arrow-up-right-from-square"></i></a>
                    </li>
                    <li class="custom-bullet-point">
                        <a href="../index.html#introduction" class="inline-link">Inleiding<i
                                class="fa-solid fa-arrow-up-right-from-square"></i></a>
                        <ul>
                            <li class="custom-bullet-point">
                                <a href="../index.html#introduction">Terugblik van stage</a>
                            </li>
                        </ul>
                    </li>
                    <li class="custom-bullet-point">
                        <a href="../index.html#job-title" class="inline-link">Frontend developer stagiaire <i
                                class="fa-solid fa-arrow-up-right-from-square"></i></a>
                    </li>
                    <li class="custom-bullet-point">
                        <a href="../index.html#company-description" class="inline-link">Omschrijving stagebedrijf - Over
                            go2people <i class="fa-solid fa-arrow-up-right-from-square"></i></a>
                    </li>
                    <li class="custom-bullet-point">
                        <a href="../index.html#ntern-supervisor" class="inline-link">Stagebegeleider <i
                                class="fa-solid fa-arrow-up-right-from-square"></i></a>
                    </li>

                    <li class="custom-bullet-point">
                        <a href="../index.html#assignment" class="inline-link">Werkzaamheden <i
                                class="fa-solid fa-arrow-up-right-from-square"></i></a>
                        <ul>
                            <li class="custom-bullet-point">
                                <a href="./treesforall-opdracht.html">Veelgestelde vragen pagina
                                    nabouwen</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="./frankrijknl.html">Frankrijk.nl homepagina nabouwen</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a class="current-open-page" href="./opdracht-5-formulier.html">Email Sturen met AJAX</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="./testen-voor-responsive.html">Testen transcocean coatings op
                                    mobiele schermen</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="./testen-formulier.html">Testen voor bugs bij formulieren van
                                    Trees for all</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="./4stagiairs.html">4stagiairs: Eigen WordPress website</a>
                            </li>
                        </ul>
                    </li>
                    <li class="custom-bullet-point">
                        <a href="../index.html#jobtask-overview" class="inline-link">Werkzaamheden overzicht <i
                                class="fa-solid fa-arrow-up-right-from-square"></i></a>
                    </li>
                    <li class="custom-bullet-point">
                        <a href="../index.html#learn-goals" class="inline-link">Leerdoelen <i
                                class="fa-solid fa-arrow-up-right-from-square"></i></a>
                        <ul>
                            <li class="custom-bullet-point">
                                <a href="../leerdoelen/leerdoel-1.html">Leerdoel 1: Nieuwe framework leren</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="../leerdoelen/leerdoel-2.html">Leerdoel 2: Samen ontwerpen</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="../leerdoelen/leerdoel-3.html">Leerdoel 3: Prototypen met code</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="../leerdoelen/leerdoel-4.html">Leerdoel 4: Oplossingen bedenken</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="../leerdoelen/leerdoel-5.html">Leerdoel 5: Prototype presenteren aan
                                    developers</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="../leerdoelen/leerdoel-6.html">Leerdoel 6: Prototypes testen</a>
                            </li>
                        </ul>
                    </li>
                    <li class="custom-bullet-point">
                        <a href="../index.html#slideshow" class="inline-link">Slideshow met Foto's over de stage<i
                                class="fa-solid fa-arrow-up-right-from-square"></i></a>
                    </li>
                    <li class="custom-bullet-point">
                        <a href="../index.html#reflection" class="inline-link">Reflectie en Analyses <i
                                class="fa-solid fa-arrow-up-right-from-square"></i></a>
                        <ul>
                            <li class="custom-bullet-point">
                                <a href="../analyses/reflectie.html">Reflecties en Conclusies</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="../analyses/observatieopdrachten.html">Observatieopdrachten</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="../analyses/feedbackformulieren.html">Feedbackformulieren analyse</a>
                            </li>

                        </ul>
                    </li>
                    <li class="custom-bullet-point">
                        <a href="../index.html#resources" class="inline-link">Bijlage<i
                                class="fa-solid fa-arrow-up-right-from-square"></i></a>
                        <ul>
                            <li class="custom-bullet-point">
                                <a href="../bijlages/stageplan.html">Stageplan</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="../bijlages/functioneringsverslag.html">Functioneringsverslag</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="../bijlages/stageaanvraag.html">Stageaanvraag</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="../bijlages/feedback-formulieren-tussenmeting.html">Feedbackformulier
                                    tussenmeting</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a href="../bijlages/feedback-formulieren-eindmeting.html">Feedbackformulier
                                    eindmeting</a>
                            </li>
                            <li class="custom-bullet-point">
                                <a
                                    href="https://keisha-work.notion.site/Logboek-18284eb089b842098a8318835f482b1c?pvs=4">Logboek</a>
                            </li>

                        </ul>
                    </li>

                </ul>
            </div>


        </div>
    </div>


</nav>
    <main>
        <main id="content">
            <a href="#introduction" class="go-to-top-btn button small-btn"><i class="fa-solid fa-arrow-up"
                    style="color: #ffffff;"></i></a>
            <section class="task-hero">
                <div class="container">
                    <div class="row">
                        <article>
                            <p class="word-cloud"><i class="fa-solid fa-hashtag" style="color: #d2ebe1;"></i>14
                                September 2023 - 3 Oktober 2023</p>
                            <h1>Email sturen met AJAX </h1>
                            <h2 class="category">Prototypen en uitwerken</h2>
                            <img class="content-img" src="../static/images/opdracht-5/formulier-eindversie.png"
                                alt="Uitgelichte afbeelding">
                            <a class="primary button" href="https://internship-assignment-5.000webhostapp.com/">Bekijk
                                live demo</a>
                        </article>
                    </div>
                </div>
            </section>

            <section id="introduction" class="task-assignment">
                <div class="container">
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <article class="columns-spacing-right">
                                <h2 class="large"> Inleiding</h2>
                                <p>
                                    Bij mij derde stageopdracht, moest met <span
                                        class="colored-inline-text-variation-1">PHP</span> en
                                    <span class="colored-inline-text-variation-1">Javascript</span>, een formulier waar
                                    je data naar de PHP server kan sturen. Dit opdracht was meer bedoeld voor backend
                                    dan frontend. Voor dit opdracht moest ik veel met PHP en Javascript. Voor de
                                    formulier had ik geen ontwerp dus ik moest mij creativiteit gebruiken. Om dit
                                    opdracht te kunnen maken heb ik veel gelezen over PHP en ook enkele instructies
                                    videos gekeken. Met genoeg kennis ging ik aan de slag.
                                </p>
                            </article>
                        </div>
                        <div class="col-12 col-md-6">
                            <!-- <figure>
                                <img class="content-img" src="../static/images/opdracht-2/figma-bestand-opdracht-2.png"
                                    alt="Image 2">
                                <figcaption> Het Figma bestand met het ontwerp </figcaption>
                            </figure> -->
                        </div>
                    </div>
                </div>
            </section>
            <section class="task-assignment">
                <div class="container">
                    <h2> Beschrijving opdracht</h2>
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <article class="columns-spacing-right">
                                <p>
                                    Zoals ik al heb geschreven ik moet een interface maken waar gebruikers email sturen.
                                    Het formulier moet verschillende invoervelden bevatten namelijk een tekst veld, mail
                                    veld en een bericht veld. Per veld moet er gecontroleerd worden of de juiste data
                                    ingevoerd worden. Dus ik moet ervoor zorgen dat de gebruiker een foutmelding krijgt
                                    wanneer.
                                </p>

                                <h2>Doel van de opdracht</h2>
                                <p>
                                    Met deze opdracht willen ze kijken, hoeveel kennis ik heb met Formulieren. Dus er
                                    wordt gekeken of ik de juiste HTML elementen gebruikt voor de invoervelden. Verder
                                    werd er ook mijn javascript vaardigheden beoordeeld en als laatste mijn
                                </p>
                            </article>
                        </div>
                        <div class="col-12 col-md-6">
                            <figure>
                                <img class="content-img" src="../static/images/opdracht-5/opdracht-5-beschrijving.png"
                                    alt="Opdracht 5 Beschrijving">
                                <figcaption>Beschrijving van opdracht 5</figcaption>
                            </figure>
                        </div>
                    </div>
                </div>
            </section>
            <section class="task-assignment">
                <div class="container">
                    <h2 class="large"> HTML Structuur van het formulier </h2>
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <figure>
                                <img class="content-img" src="../static/images/opdracht-5/form-html-code.png"
                                    alt="Opdracht 1 Beschrijving">
                                <figcaption>Opdracht 5 HTML Structuur versie 1</figcaption>
                            </figure>
                        </div>
                        <div class="col-12 col-md-6">
                            <article class="columns-spacing-left">
                                <h2>Formulier HTML elementen</h2>
                                <p>
                                    De eerste ding die ik heb gedaan is HTML stellen. Om een formulier te kunnen maken
                                    moet je de <code>&lt;form&gt;</code> gebruiken. Voor de email formulier, heb ik drie
                                    type invoervelden gebruikt, er zijn twee tekst invoervelden voor de onderwerp van de
                                    mail en de voornaam van de zender. De volgende invoerveld is om de email adres in te
                                    voeren. Van wat ik heb uitgehaald van de opdracht, heb ik voor mezelf een
                                    'requirement list', zodat ik weet wat ik aan het formulier moet doen.
                                </p>

                                <h2>Functionaliteiten voor het email formulier</h2>
                                <ul>
                                    <li class="custom-bullet-point">Gebruiker moet een onderwerp kunnen verzenden</li>
                                    <li class="custom-bullet-point">Gebruiker moet email, voornaam en bericht kunnen
                                        invoeren</li>
                                    <li class="custom-bullet-point">Gebruiker moet feedback kunnen krijgen wanneer hij
                                        iets verkeerd of correct heeft ingevuld </li>
                                    <li class="custom-bullet-point">Gebruiker moet een bevestiging kunnen krijgen
                                        wanneer het formulier </li>

                                </ul>
                            </article>
                        </div>

                    </div>
                </div>
            </section>
            <section class="task-assignment">
                <div class="container">
                    <h2 class="large"> Javascript</h2>
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <figure>
                                <img class="content-img" src="../static/images/opdracht-5/javascript-ajax.png"
                                    alt="Opdracht 2 Scherm foto van stukje code">
                                <figcaption>Opdracht 5: Javascript</figcaption>
                            </figure>
                        </div>
                        <div class="col-12 col-md-6">
                            <article class="columns-spacing-left">
                                <h2>Javascript</h2>
                                <p>Ik heb Javascript gebruikt om de data naar de PHP server te sturen. De code maakt
                                    gebruik van DOM-manipulatie om elementen op de pagina te selecteren en interacties
                                    met de gebruiker te beheren. De
                                    variabelen worden gebruikt om specifieke elementen op de pagina vast te leggen,
                                    zoals invoervelden, foutmeldingen en
                                    pictogrammen voor succes en fout. Er zijn ook event listeners toegevoegd om
                                    verschillende gebeurtenissen te volgen,
                                    zoals het invoeren van tekst in de invoervelden, het indienen van het formulier en
                                    het hoveren over de verzendknop.
                                </p>
                                <details>
                                    <summary>Variabelen voor dom manipulatie</summary>
                                <pre>
                                    <code class="language-js">
                                        const subject = document.getElementById('subject');
                                        const subjectError = document.querySelector('.subject-error');
                                        const subjectPreview =document.querySelector('.subject-preview');
                                        const form = document.querySelector('form');
                                        const submitButton = document.querySelector('button');
                                        const inputs = document.querySelectorAll('.input');
                                        const email = document.querySelector('#sender');
                                        const emailError = document.querySelector(".email-error");
                                        const name = document.querySelector('#name');
                                        const nameError = document.querySelector('.input-error');
                                        const mailContent = document.querySelector('#message');
                                        const mailContentError = document.querySelector('.message-error');
                                        const sendButton = document.querySelector('.send-button');
                                        const sendIcon = document.querySelector('.send-icon');
                                    </code>
                                </pre>
                                </details>
                              
                                <h2>Formulier validatie</h2>
                                <p>
                                    Bij het invoeren van gegevens in het formulier worden functies aangeroepen om de
                                    validiteit van de invoer te controleren
                                    en de bijbehorende foutmeldingen weer te geven. De foutmeldingen bevatten visuele
                                    indicatoren, zoals iconen voor
                                    succes en fout. Bovendien is er een animatie toegevoegd aan het verzend icoon
                                    wanneer de gebruiker de knop aanwijst.
                                </p>
                                <details>
                                    <summary>Code voor formulier validatie</summary>
                                    <pre>
                                        <code class="language-js">
                                            form.addEventListener('submit', (e)=>{
                                                if(!subject.validity.valid){
                                                showSubjectError()
                                                e.preventDefault()
                                                }
                                            });
                                            function showSubjectError(){
                                                if(subject.validity.valueMissing){
                                                    subjectError.innerHTML = `${errorIcon} Voer een onderwerp in!`;
                                                    subjectError.classList.add('error');
                                                } else if(subject.validity.tooShort){
                                                    subjectError.innerHTML = `${errorIcon} Het onderwerp moet minimaal ${subject.minLength} tekens bevatten!`;
                                                    subjectError.classList.add('error');
                                                }
                                            }
                                        </code>
                                    </pre>
                                </details>

                                <h2>AJAX verzoek</h2>
                                <p>
                                    Als het formulier wordt ingediend, worden alle ingevoerde gegevens gevalideerd en
                                    worden foutmeldingen weergegeven als
                                    de gegevens ongeldig zijn. Als alle gegevens geldig zijn, wordt een AJAX-verzoek
                                    naar 'sent.php' gestuurd met behulp van
                                    de Fetch API. Het script detecteert ook of het formulier op de pagina aanwezig is om
                                    te voorkomen dat het wordt
                                    uitgevoerd op pagina's waar het niet relevant is. Ten slotte wordt er een klasse
                                    toegevoegd aan de invoervelden terwijl
                                    de gebruiker tekst invoert om een visuele indicatie te geven dat er gegevens zijn
                                    ingevoerd.
                                </p>
                                <details>
                                    <summary>Code voor AJAX verzoek</summary>
                                    <pre>
                                        <code class="language-js">
                                            // send the form with ajax to php
                                            function submitEmail(){
                                                let fd = new FormData(form);
                                                fetch('sent.php', {
                                                method: "post",
                                                body: fd,
                                            })
                                            .then(response => response.json())
                                            .then(data => {
                                                console.log(data)
                                            })
                                            .catch(error =>{
                                                console.log(error)
                                            })
                                            }
                                        </code>
                                    </pre>
                                </details>

                            </article>
                        </div>

                    </div>
                </div>
            </section>
            <section class="task-assignment">
                <div class="container">
                    <h2 class="large"> Data ontvangen in PHP server </h2>
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <figure>
                                <img class="content-img" src="../static/images/opdracht-5/succespagina.png" alt="Opdracht 5 bedankt pagina">
                                <figcaption>Bedankt pagina</figcaption>
                            </figure>
                        </div>
                        <div class="col-12 col-md-6">
                            <article class="columns-spacing-left">
                                <h2>Data opslaan als JSON</h2>
                            <p>
                                Deze PHP-code verwerkt de gegevens die zijn verzonden via een formulier. Het begint door een lege array genaamd
                                $errors
                                te initialiseren en converteert de POST-gegevens naar JSON-formaat met behulp van json_encode. Vervolgens worden
                                verschillende validaties uitgevoerd op de ontvangen gegevens, zoals het controleren op leegheid, het valideren van
                                het
                                e-mailadres en het beperken van de lengte van het onderwerp en de naam.
                            </p>
                            <details>
                                <summary>Data opslaan in $errors Array</summary>

                                <pre>
                                    <code class="language-php">
                                        $errors =[];
                                        $jsonData = json_encode($_POST);
                                        
                                        $subject = $_POST["subject"];
                                        $subjectLength = strlen($subject);
                                        $name = $_POST["name"];
                                        $nameLength = strlen($name);
                                        $email = $_POST["email_sender"];
                                        $message = $_POST["messages"];

                                    </code>
                                </pre>
                            </details>

                            <figure>
                                <img class="content-img" src="../static/images/opdracht-5/gestuurde-data.png" alt="Formulier data gestuurd naar de Server">
                                <figcaption>Formulier data gestuurd naar de Server</figcaption>
                            </figure>
                            
                            <h2>Data valideren vanuit de server</h2>
                            <p>
                                 Als er fouten worden gedetecteerd tijdens de validatie, worden deze toegevoegd aan de $errors-array met bijbehorende
                                foutmeldingen. Als er geen fouten zijn, wordt een succesfeedback gegenereerd en wordt de HTTP-statuscode ingesteld
                                op
                                200. In het geval van fouten wordt een array met foutenberichten gegenereerd en wordt de HTTP-statuscode ingesteld
                                op
                                400. Ten slotte wordt het resulterende feedback array omgezet naar JSON en uitvoer gegeven in de console.
                            </p>
                            <figure>
                                <img class="content-img" src="../static/images/opdracht-5/server-validatie.png" alt="Wanneer er foute data naar de server gestuurd word">
                                <figcaption>Wanneer er foute data naar de server gestuurd word</figcaption>
                            </figure>

                            <details>
                                <summary>Server validatie</summary>
                            
                                <pre>
                                    <code class="language-php">
                                        if(empty($subject)) {
                                            $errors["subject"] = "Voer een onderwerp in!";
                                        }elseif($subjectLength < 3) { 
                                            $errors["subject"]="Het onderwerp moet minimaal 3 karakters bevatten!" ;
                                        }elseif($subjectLength> 50) {
                                            $errors["subject"] = "Het onderwerp moet maximaal 50 karakters bevatten!";
                                        }
                                        if(empty($name)) {
                                            $errors["name"] = "Voer je naam in!";
                                        }elseif ($nameLength < 2 ) { $errors["name"]="Je naam moet  minimaal 2 karakter bevatten!" ; 
                                        } elseif($nameLength>50) {
                                            $errors["name"] = "Je naam moet maximaal 50 karakter bevatten!";
                                        }
                                        if(empty($email)) {
                                            $errors["email"] = "Voer je email in!";
                                        }elseif(!filter_var($email, FILTER_VALIDATE_EMAIL)){
                                            $errors["email"] = "Voer een geldig email in!";
                                        }
                                        if(empty($message)) {
                                            $errors["message"] = "Voer een bericht in!";
                                        }

                                        if(empty($errors)) {
                                            $feedback = array('success'=> 'Bedankt voor je bericht');
                                            http_response_code(200);
                                            include 'confirmation.php';
                                        }else {
                                            $feedback = array('errors'=> $errors);
                                            http_response_code(400);
                                            echo json_encode($feedback);
                                        }

                                    </code>
                                </pre>
                            </details>
                            
                            <h2>Geen fouten krijgen de gebruiker een bevestiging pagina</h2>
                            <p>
                                Als er geen fouten zijn, wordt de bedankpagina  naar de gebruiker gestuurd bevat  dat weergeeft dat het formulier succesvol is ingediend.
                            </p>
                               
                        </div>
            
                    </div>
                </div>
            </section>

            <section class="task-assignment Feedback">
                <div class="container">
                    <h2 class="large"> Alle verzamelde feedback en kritiekpunten</h2>
                    <div class="row">
                        <div class="col-12 col-md-6">
                           <article class="columns-spacing-right">
                            <p>
                                Ik heb de eerste versie van het formulier afgerond en ging op zoek naar feedback. Voor de feedback heb ik een overleg met de backend developer en niet mij stagebegeleider omdat dit opdracht was veel te maken met de backend. Voor de gesprek heb ik een zip bestand gestuurd naar Tim de backend developer. Tijdens het gesprek heeft hij door de feedback gelopen en ik heb daardoor alles in mij logboek genoteerd. Met de nieuwe feedback heb ik dan een nieuwe iteratie gemaakt.
                            </p>

                           </article>
                        </div>
                        <div class="col-md-6">
                            <article>
                                <figure>
                                    <img class="content-img" src="../static/images/opdracht-5/formulier-feedback.png"
                                        alt="Opdracht 2 Scherm foto van stukje code">
                                    <figcaption>Sommige feedback voor het prototype</figcaption>
                                </figure>
                            </article>
                        </div>
            
                    </div>
                </div>
            </section>

            <section class="task-assignment">
                <div class="container">
                    <h2 class="large"> Formulier met succes of foutmelding</h2>
                    <div class="row">
                        <div class="col-12 ">
                        <article class="columns-spacing-right">
                          <h2>Formulier is niet correct ingevuld</h2>
                        </article>
                        </div>
                        <div class="col-12">
                            <article>
                                <figure>
                                    <img class="content-img" src="../static/images/opdracht-5/formulier-error-message.png"
                                        alt="Opdracht 5 Formulier met fouten">
                                    <figcaption>Opdracht 5 Formulier met fouten</figcaption>
                                </figure>
                            </article>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                         <article class="columns-spacing-right">
                            <h2>Foutmelding</h2>
                            <p>Wanneer de gebruiker het formulier gebruikt, moeten ze feedback krijgen of ze iets niet goed heb ingevuld. De manier hoe ik dit heb aangepakt is een bericht zichtbaar maken met instructies hoe ze het fout kan verbeteren. Ik 
                            heb daarna met css de kleur rood gebruikt om het aan te geven dat de ingevoerde data verkeerd is. Voor mensen die kleurenblind zijn heb ik iconen gebruikt om de boodschap duidelijker te maken. 
                            </p>
                            <h2>Hoe krijg je deze foutmeldingen?</h2>
                            <ul>
                                <li class="custom-bullet-point">Wanneer je de verzend knop klikt zonder niks in te vullen</li>
                                <li class="custom-bullet-point">Wanneer je ongeldige email adres invoert</li>
                                <li class="custom-bullet-point">Wanneer je geen naam invoert</li>
                                <li class="custom-bullet-point">Wanneer je geen bericht invoert</li>
                            </ul>
                         

                        <details>
                            <summary>Hier is de javascript code voor het formulier foutmelding</summary>
                            <pre>
                                <code class="language-js">   
                                        // Show error if the user do not fill the form with the correct data
                                        form.addEventListener('submit', (e)=>{
                                                if(!subject.validity.valid){
                                                showSubjectError()
                                                e.preventDefault()
                                            }

                                                if(!name.validity.valid) {
                                                showNameError();
                                                e.preventDefault();
                                            }
                                                if(!email.validity.valid) {
                                                showEmailError()
                                                e.preventDefault();
                                            }
                                                if(!mailContent.validity.valid) {
                                                showEmailContentError();
                                                e.preventDefault();
                                            }
                                        })

                                        function showSubjectError() {
                                            if(subject.validity.valueMissing) {
                                            subjectError.innerHTML = `${errorIcon} Voer een onderwerp in!`;
                                            subjectError.classList.add('error');
                                            } else if(subject.validity.tooShort) {
                                                subjectError.innerHTML = `${errorIcon} Het onderwerp moet minimaal ${subject.minLength} tekens bevatten!`;
                                                subjectError.classList.add('error');
                                            }
                                        }

                                        function showNameError() {
                                            if(name.validity.valueMissing) {
                                            nameError.innerHTML = ` ${errorIcon} Voer uw naam in!`;
                                            nameError.classList.add('error');
                                            } else if(name.validity.tooShort) {
                                                nameError.innerHTML = `${errorIcon} Uw naam moet minimaal ${name.minLength} tekens bevatten!`;
                                                nameError.classList.add('error');
                                            }
                                        }
                                        function showEmailError(){
                                            if (email.validity.valueMissing) {
                                                emailError.innerHTML = ` ${errorIcon} Voer uw email in!`;
                                                emailError.classList.add('error');
                                            } else if(email.validity.typeMismatch){
                                                emailError.innerHTML = ` ${errorIcon} Voer een geldig email adres in!`;
                                                emailError.classList.add('error');
                                            }
                                        }
                                        function showEmailContentError(){
                                            if(mailContent.validity.valueMissing){
                                                mailContentError.innerHTML = `${errorIcon} Je moet nog een bericht schrijven!`
                                                mailContentError.classList.add('error');
                                            }
                                        }

                                        submitButton.addEventListener('click',()=>{
                                        submitEmail()
                                        });

                                </code>
                            </pre>
                        </details>
                    </article>
                        </div>
                        <div class="col-12">
                            <article class="columns-spacing-right">
                                <h2>Formulier is correct ingevuld</h2>
                                <figure>
                                    <img class="content-img" src="../static/images/opdracht-5/formulier-good-state.png"
                                        alt="Opdracht 5 Formulier met success">
                                    <figcaption>Opdracht 5 Formulier met success</figcaption>
                                </figure>

                              
                                    <p>
                                        Aan de andere kant geef je ook feedback aan de gebruiker wanneer ze de juiste data invoert. Om dit te bereiken heb javascript gebruikt om een css class te maken wanneer de gebruiker goed heeft ingevuld. De class heb ik gezet bij de invoervelden. Dus wanneer de gebruiker de juiste data invoert ga de foutmeldingen weg en de border wordt verandert naar een groene kleur. Voor de mensen die geen groen kunnen zien heb ik een vinkje icoon gebruikt om aan te geven dat de formulier goed is ingevuld. 
                                    </p>                             

                                <details>
                                    <summary>Hier is de javascript code voor het formulier foutmelding</summary>
                                    <pre>
                                        <code class="language-js">
                                           const errorIcon = `<img class="error-icon" src="../../static/icons/circle-exclamation-solid.svg" alt="h" width=16
                                                height=16>`; 
                                             const successIcon = `<img class="success-icon" src="../../static/icons/circle-check-solid.svg" alt="h" width=16
                                                height=16>`; 
                                           
                                            // feature detection let the code only run if the form element exists on the page
                                            // used the same script file on the sent.php file
        
                                            if(form) {
                                                // get form data values with the input eventlisteners
                                                subject.addEventListener('input',() => {
                
                                                // console.log(emailSubject.value);
                                                if(subject < 0){ 
                                                    subjectPreview.innerHTML="Nieuwe Bericht" ; 
                                                } else { 
                                                    subjectPreview.innerHTML=`Onderwerp:
                                                    ${subject.value}`; 
                                                } 
                                                
                                                if(subject.validity.valid) { 
                                                    subjectError.innerHTML=`${successIcon}`;
                                                    subjectError.classList.remove('error'); 
                                                }else{ 
                                                    showSubjectError() 
                                                } });
                                                    
                                                name.addEventListener('input', ()=>{
                                                    const nameValue = name.value;
                                                    console.log(nameValue);
                                                    
                                                    if(name.validity.valid) {
                                                    nameError.innerHTML = `${successIcon}`;
                                                    nameError.classList.remove('error');
                                                    } else {
                                                    showNameError()
                                                    }
                                                })
        
                                                email.addEventListener('input' , ()=>{
                                                if(email.validity.valid){
                                                emailError.innerHTML = `${successIcon}`;
                                                emailError.classList.remove('error');
                                                }else{
                                                showEmailError()
                                                }
                                                });
        
                                                mailContent.addEventListener('input' ,()=>{
                                                if(mailContent.validity.valid){
                                                mailContentError.innerHTML = `${successIcon}`;
                                                mailContentError.classList.remove('error');
                                                }else{
                                                showEmailContentError()
                                                }
                                                })
        
                                        
                                                submitButton.addEventListener('click',()=>{
                                                submitEmail()
                                                });
        
                                            }
                                        </code>
                                    </pre>
                                </details>
                            </article>
                        </div>
                    </div>
                </div>
            </section>

            <section class="task-assignment">
                <div class="container">
                    <h2 class="large"> Wat heb ik geleerd?</h2>
                    <div class="row">
                        <div class="col-12 col-lg-8">
                            <article>
                                <p>
                                   In deze opdracht heb ik kennis gemaakt met PHP. Het is een nieuwe programmeertaal die ik niet bij CMD heb geleerd. Dit opdracht voldoet aan de leerdoel: Nieuwe frameworks leren. Ik heb daardoor veel documentatie gelezen over PHP zodat ik beter kan begrijpen hoe deze opdracht kan maken. Wat ik heb gelezen over PHP is alleen de basis. Het bevat dingen zoals, variabele aanmaken, de soorten operators, hoe je met arrays kan werken en over formulier validatie. Ik ben niet dieper in gegaan.
                                </p>
                                <p>
                                 Verder heb ik geleerd om feedback te vragen aan andere expertise. Dit opdracht is meer gefocust op de backend en niet frontend dus ik moest een backend programmeur vragen stellen wanneer ik vast liep. Dat ing best wel simpel het is gewoon een kwestie van vragen. 
                                </p>
                                <p>
                                    Als laatste heb ik veel met javascript kunnen doen om het formulier interactief te maken. Met javascript was het mogelijk om feedback aan de gebruiker te geven de data goed of fout is ingevuld.
                                </p>
                            </article>
                        </div>
                        <div class="col-12 col-lg-8">
                            <h2>Kernpunten</h2>
                            <article>
                                <ul>
                                    <li class="custom-bullet-point">Leren hoe je PHP kan implementeren in een project
                                    </li>
                                    <li class="custom-bullet-point">Formulier gegevens sturen vanuit de client naar de server me PHP </li>
                                    <li class="custom-bullet-point">Juiste HTML elementen gebruiken voor formulier</li>
                                    <li class="custom-bullet-point">Feedback ontvangen en verwerken</li>
                                    <li class="custom-bullet-point">Javascript gebruiken om de formulier data te controleren</li>
                                    <li class="custom-bullet-point">Feedback aan de gebruiker geven of de formulier goed of fout is ingevuld </li>

                                </ul>


                            </article>
                        </div>

                    </div>
                </div>
            </section>





        </main>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
            </script>
        <script src="../static/lib/swiper/swiper-bundle.min.js"></script>
        <script src="../static/lib/prism/prism.js"></script>
        <script src="../static/js/script.js"></script>

</body>

</html>